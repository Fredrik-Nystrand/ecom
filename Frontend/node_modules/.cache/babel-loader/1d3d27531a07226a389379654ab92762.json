{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  state: {\n    cart: []\n  },\n  getters: {\n    cart: state => state.cart,\n    cartItemAmount: (state, id) => {\n      console.log(state.cart.find(item => item.id === id));\n    }\n  },\n  mutations: {\n    ADD_ITEM: (state, {\n      product,\n      id,\n      amount\n    }) => {\n      const itemExists = state.cart.find(item => item.id === id);\n\n      if (itemExists) {\n        itemExists.amount += amount;\n      } else {\n        const newItem = {\n          id,\n          title: product.name,\n          img: product.imgURL,\n          price: product.price,\n          amount\n        };\n        state.cart.push(newItem);\n      }\n\n      console.log(state.cart);\n    },\n    UPDATE_AMOUNT: (state, {\n      id,\n      amount\n    }) => {\n      const itemExists = state.cart.find(item => item.id === id);\n\n      if (itemExists) {\n        itemExists.amount = amount;\n        console.log(state.cart);\n      }\n    }\n  },\n  actions: {\n    addItem: async ({\n      commit\n    }, {\n      id,\n      amount\n    }) => {\n      const res = await axios.get(\"/api/products/\" + id);\n      commit(\"ADD_ITEM\", {\n        product: res.data,\n        id,\n        amount\n      });\n    },\n    updateAmount: async ({\n      commit\n    }, item) => {\n      commit(\"UPDATE_AMOUNT\", item);\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/nystr/OneDrive/Dokument/skola/Frontendutv/Javascript2/Frontend/app/src/store/modules/cart.js"],"names":["axios","state","cart","getters","cartItemAmount","id","console","log","find","item","mutations","ADD_ITEM","product","amount","itemExists","newItem","title","name","img","imgURL","price","push","UPDATE_AMOUNT","actions","addItem","commit","res","get","data","updateAmount"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAE;AADH,GADI;AAIXC,EAAAA,OAAO,EAAE;AACLD,IAAAA,IAAI,EAAGD,KAAD,IAAWA,KAAK,CAACC,IADlB;AAELE,IAAAA,cAAc,EAAE,CAACH,KAAD,EAAQI,EAAR,KAAe;AAC3BC,MAAAA,OAAO,CAACC,GAAR,CAAYN,KAAK,CAACC,IAAN,CAAWM,IAAX,CAAiBC,IAAD,IAAUA,IAAI,CAACJ,EAAL,KAAYA,EAAtC,CAAZ;AACH;AAJI,GAJE;AAUXK,EAAAA,SAAS,EAAE;AACPC,IAAAA,QAAQ,EAAE,CAACV,KAAD,EAAQ;AAAEW,MAAAA,OAAF;AAAWP,MAAAA,EAAX;AAAeQ,MAAAA;AAAf,KAAR,KAAoC;AAC1C,YAAMC,UAAU,GAAGb,KAAK,CAACC,IAAN,CAAWM,IAAX,CAAiBC,IAAD,IAAUA,IAAI,CAACJ,EAAL,KAAYA,EAAtC,CAAnB;;AACA,UAAIS,UAAJ,EAAgB;AACZA,QAAAA,UAAU,CAACD,MAAX,IAAqBA,MAArB;AACH,OAFD,MAEO;AACH,cAAME,OAAO,GAAG;AACZV,UAAAA,EADY;AAEZW,UAAAA,KAAK,EAAEJ,OAAO,CAACK,IAFH;AAGZC,UAAAA,GAAG,EAAEN,OAAO,CAACO,MAHD;AAIZC,UAAAA,KAAK,EAAER,OAAO,CAACQ,KAJH;AAKZP,UAAAA;AALY,SAAhB;AAQAZ,QAAAA,KAAK,CAACC,IAAN,CAAWmB,IAAX,CAAgBN,OAAhB;AACH;;AAEDT,MAAAA,OAAO,CAACC,GAAR,CAAYN,KAAK,CAACC,IAAlB;AACH,KAlBM;AAoBPoB,IAAAA,aAAa,EAAE,CAACrB,KAAD,EAAQ;AAAEI,MAAAA,EAAF;AAAMQ,MAAAA;AAAN,KAAR,KAA2B;AACtC,YAAMC,UAAU,GAAGb,KAAK,CAACC,IAAN,CAAWM,IAAX,CAAiBC,IAAD,IAAUA,IAAI,CAACJ,EAAL,KAAYA,EAAtC,CAAnB;;AACA,UAAIS,UAAJ,EAAgB;AACZA,QAAAA,UAAU,CAACD,MAAX,GAAoBA,MAApB;AACAP,QAAAA,OAAO,CAACC,GAAR,CAAYN,KAAK,CAACC,IAAlB;AACH;AACJ;AA1BM,GAVA;AAsCXqB,EAAAA,OAAO,EAAE;AACLC,IAAAA,OAAO,EAAE,OAAM;AAAEC,MAAAA;AAAF,KAAN,EAAkB;AAAEpB,MAAAA,EAAF;AAAMQ,MAAAA;AAAN,KAAlB,KAAqC;AAC1C,YAAMa,GAAG,GAAG,MAAM1B,KAAK,CAAC2B,GAAN,CAAU,mBAAmBtB,EAA7B,CAAlB;AAEAoB,MAAAA,MAAM,CAAC,UAAD,EAAa;AAAEb,QAAAA,OAAO,EAAEc,GAAG,CAACE,IAAf;AAAqBvB,QAAAA,EAArB;AAAyBQ,QAAAA;AAAzB,OAAb,CAAN;AACH,KALI;AAOLgB,IAAAA,YAAY,EAAE,OAAM;AAAEJ,MAAAA;AAAF,KAAN,EAAkBhB,IAAlB,KAA2B;AACrCgB,MAAAA,MAAM,CAAC,eAAD,EAAkBhB,IAAlB,CAAN;AACH;AATI;AAtCE,CAAf","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default {\r\n    state: {\r\n        cart: [],\r\n    },\r\n    getters: {\r\n        cart: (state) => state.cart,\r\n        cartItemAmount: (state, id) => {\r\n            console.log(state.cart.find((item) => item.id === id));\r\n        },\r\n    },\r\n    mutations: {\r\n        ADD_ITEM: (state, { product, id, amount }) => {\r\n            const itemExists = state.cart.find((item) => item.id === id);\r\n            if (itemExists) {\r\n                itemExists.amount += amount;\r\n            } else {\r\n                const newItem = {\r\n                    id,\r\n                    title: product.name,\r\n                    img: product.imgURL,\r\n                    price: product.price,\r\n                    amount,\r\n                };\r\n\r\n                state.cart.push(newItem);\r\n            }\r\n\r\n            console.log(state.cart);\r\n        },\r\n\r\n        UPDATE_AMOUNT: (state, { id, amount }) => {\r\n            const itemExists = state.cart.find((item) => item.id === id);\r\n            if (itemExists) {\r\n                itemExists.amount = amount;\r\n                console.log(state.cart);\r\n            }\r\n        },\r\n    },\r\n    actions: {\r\n        addItem: async({ commit }, { id, amount }) => {\r\n            const res = await axios.get(\"/api/products/\" + id);\r\n\r\n            commit(\"ADD_ITEM\", { product: res.data, id, amount });\r\n        },\r\n\r\n        updateAmount: async({ commit }, item) => {\r\n            commit(\"UPDATE_AMOUNT\", item);\r\n        },\r\n    },\r\n};"]},"metadata":{},"sourceType":"module"}