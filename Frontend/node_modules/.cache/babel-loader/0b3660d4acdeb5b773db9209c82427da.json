{"ast":null,"code":"import axios from \"@/axios\";\nexport default {\n  state: {\n    orders: []\n  },\n  getters: {\n    getOrders: state => state.orders\n  },\n  mutations: {\n    SUBMIT_ORDER: (state, order) => {\n      state.orders.push(order); //console.log(state.orders);\n    },\n    GET_ORDERS: (state, orders) => {\n      state.orders = orders;\n    },\n    CLEAR_ORDERS: state => {\n      state.orders = [];\n    }\n  },\n  actions: {\n    placeOrder: async ({\n      commit\n    }, {\n      cart,\n      totalPrice,\n      token\n    }) => {\n      const res = await axios.post(\"orders\", {\n        cart,\n        totalPrice\n      }, {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n\n      if (res.status === 201) {\n        //console.log(res.data);\n        commit(\"SUBMIT_ORDER\", res.data);\n        return res.data;\n      }\n    },\n    getOrders: async ({\n      commit\n    }, token) => {\n      const res = await axios.get(\"orders\", {\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n\n      if (res.status === 200) {\n        commit(\"GET_ORDERS\", res.data.orders);\n      }\n    },\n    clearOrders: ({\n      commit\n    }) => {\n      commit(\"CLEAR_ORDERS\");\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/nystr/OneDrive/Dokument/skola/Frontendutv/Javascript2/Frontend/src/store/modules/orders.js"],"names":["axios","state","orders","getters","getOrders","mutations","SUBMIT_ORDER","order","push","GET_ORDERS","CLEAR_ORDERS","actions","placeOrder","commit","cart","totalPrice","token","res","post","headers","Authorization","status","data","get","clearOrders"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,SAAlB;AAEA,eAAe;AACXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,MAAM,EAAE;AADL,GADI;AAIXC,EAAAA,OAAO,EAAE;AACLC,IAAAA,SAAS,EAAGH,KAAD,IAAWA,KAAK,CAACC;AADvB,GAJE;AAOXG,EAAAA,SAAS,EAAE;AACPC,IAAAA,YAAY,EAAE,CAACL,KAAD,EAAQM,KAAR,KAAkB;AAC5BN,MAAAA,KAAK,CAACC,MAAN,CAAaM,IAAb,CAAkBD,KAAlB,EAD4B,CAE5B;AACH,KAJM;AAKPE,IAAAA,UAAU,EAAE,CAACR,KAAD,EAAQC,MAAR,KAAmB;AAC3BD,MAAAA,KAAK,CAACC,MAAN,GAAeA,MAAf;AACH,KAPM;AAQPQ,IAAAA,YAAY,EAAGT,KAAD,IAAW;AACrBA,MAAAA,KAAK,CAACC,MAAN,GAAe,EAAf;AACH;AAVM,GAPA;AAmBXS,EAAAA,OAAO,EAAE;AACLC,IAAAA,UAAU,EAAE,OAAM;AAAEC,MAAAA;AAAF,KAAN,EAAkB;AAAEC,MAAAA,IAAF;AAAQC,MAAAA,UAAR;AAAoBC,MAAAA;AAApB,KAAlB,KAAkD;AAC1D,YAAMC,GAAG,GAAG,MAAMjB,KAAK,CAACkB,IAAN,CACd,QADc,EACJ;AAAEJ,QAAAA,IAAF;AAAQC,QAAAA;AAAR,OADI,EACkB;AAC5BI,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAE,YAAYJ;AAA7B;AADmB,OADlB,CAAlB;;AAMA,UAAIC,GAAG,CAACI,MAAJ,KAAe,GAAnB,EAAwB;AACpB;AACAR,QAAAA,MAAM,CAAC,cAAD,EAAiBI,GAAG,CAACK,IAArB,CAAN;AACA,eAAOL,GAAG,CAACK,IAAX;AACH;AACJ,KAbI;AAcLlB,IAAAA,SAAS,EAAE,OAAM;AAAES,MAAAA;AAAF,KAAN,EAAkBG,KAAlB,KAA4B;AACnC,YAAMC,GAAG,GAAG,MAAMjB,KAAK,CAACuB,GAAN,CAAU,QAAV,EAAoB;AAClCJ,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAE,YAAYJ;AAA7B;AADyB,OAApB,CAAlB;;AAGA,UAAIC,GAAG,CAACI,MAAJ,KAAe,GAAnB,EAAwB;AACpBR,QAAAA,MAAM,CAAC,YAAD,EAAeI,GAAG,CAACK,IAAJ,CAASpB,MAAxB,CAAN;AACH;AACJ,KArBI;AAuBLsB,IAAAA,WAAW,EAAE,CAAC;AAAEX,MAAAA;AAAF,KAAD,KAAgB;AACzBA,MAAAA,MAAM,CAAC,cAAD,CAAN;AACH;AAzBI;AAnBE,CAAf","sourcesContent":["import axios from \"@/axios\";\r\n\r\nexport default {\r\n    state: {\r\n        orders: [],\r\n    },\r\n    getters: {\r\n        getOrders: (state) => state.orders,\r\n    },\r\n    mutations: {\r\n        SUBMIT_ORDER: (state, order) => {\r\n            state.orders.push(order);\r\n            //console.log(state.orders);\r\n        },\r\n        GET_ORDERS: (state, orders) => {\r\n            state.orders = orders;\r\n        },\r\n        CLEAR_ORDERS: (state) => {\r\n            state.orders = [];\r\n        },\r\n    },\r\n    actions: {\r\n        placeOrder: async({ commit }, { cart, totalPrice, token }) => {\r\n            const res = await axios.post(\r\n                \"orders\", { cart, totalPrice }, {\r\n                    headers: { Authorization: \"Bearer \" + token },\r\n                }\r\n            );\r\n\r\n            if (res.status === 201) {\r\n                //console.log(res.data);\r\n                commit(\"SUBMIT_ORDER\", res.data);\r\n                return res.data;\r\n            }\r\n        },\r\n        getOrders: async({ commit }, token) => {\r\n            const res = await axios.get(\"orders\", {\r\n                headers: { Authorization: \"Bearer \" + token },\r\n            });\r\n            if (res.status === 200) {\r\n                commit(\"GET_ORDERS\", res.data.orders);\r\n            }\r\n        },\r\n\r\n        clearOrders: ({ commit }) => {\r\n            commit(\"CLEAR_ORDERS\");\r\n        },\r\n    },\r\n};"]},"metadata":{},"sourceType":"module"}