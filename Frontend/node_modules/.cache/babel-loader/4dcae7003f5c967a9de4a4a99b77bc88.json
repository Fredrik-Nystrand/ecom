{"ast":null,"code":"import CartList from \"../components/cart/CartListComp\";\nimport Avatar from \"./user-components/AvatarComp\";\nimport UserCart from \"./user-components/UserCartComp\";\nimport { ref, computed, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  name: \"MainNavigation\",\n  components: {\n    Avatar,\n    UserCart,\n    CartList\n  },\n\n  setup() {\n    const store = useStore();\n    const activeDropdown = ref(null);\n    const cartDropdown = ref(null);\n    const profileDropdown = ref(null);\n    const loggedIn = ref(computed(() => store.getters.loggedIn));\n\n    const swapDropdown = newDropdown => {\n      //console.log(newDropdown);\n      if (!activeDropdown || activeDropdown.value !== newDropdown) {\n        activeDropdown.value = newDropdown;\n        return;\n      }\n\n      activeDropdown.value = null;\n    };\n\n    watch(ref(computed(() => store.getters.loggedIn)), () => {\n      loggedIn.value = ref(computed(() => store.getters.loggedIn));\n    });\n    return {\n      activeDropdown,\n      cartDropdown,\n      profileDropdown,\n      swapDropdown,\n      loggedIn\n    };\n  }\n\n};","map":{"version":3,"mappings":"AA0DA,OAAOA,QAAP,MAAqB,iCAArB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,SAASC,GAAT,EAAcC,QAAd,EAAwBC,KAAxB,QAAqC,KAArC;AACA,SAASC,QAAT,QAAyB,MAAzB;AAEA,eAAe;AACbC,MAAI,EAAE,gBADO;AAEbC,YAAU,EAAE;AACVP,UADU;AAEVC,YAFU;AAGVF;AAHU,GAFC;;AAObS,OAAK,GAAG;AACN,UAAMC,KAAI,GAAIJ,QAAQ,EAAtB;AACA,UAAMK,cAAa,GAAIR,GAAG,CAAC,IAAD,CAA1B;AACA,UAAMS,YAAW,GAAIT,GAAG,CAAC,IAAD,CAAxB;AACA,UAAMU,eAAc,GAAIV,GAAG,CAAC,IAAD,CAA3B;AACA,UAAMW,QAAO,GAAIX,GAAG,CAACC,QAAQ,CAAC,MAAMM,KAAK,CAACK,OAAN,CAAcD,QAArB,CAAT,CAApB;;AAEA,UAAME,YAAW,GAAKC,WAAD,IAAiB;AACpC;AACA,UAAI,CAACN,cAAD,IAAmBA,cAAc,CAACO,KAAf,KAAyBD,WAAhD,EAA6D;AAC3DN,sBAAc,CAACO,KAAf,GAAuBD,WAAvB;AACA;AACF;;AAEAN,oBAAc,CAACO,KAAf,GAAuB,IAAvB;AACD,KARD;;AAUAb,SAAK,CAACF,GAAG,CAACC,QAAQ,CAAC,MAAMM,KAAK,CAACK,OAAN,CAAcD,QAArB,CAAT,CAAJ,EAA8C,MAAM;AACvDA,cAAQ,CAACI,KAAT,GAAiBf,GAAG,CAACC,QAAQ,CAAC,MAAMM,KAAK,CAACK,OAAN,CAAcD,QAArB,CAAT,CAApB;AACD,KAFI,CAAL;AAIA,WAAO;AACLH,oBADK;AAELC,kBAFK;AAGLC,qBAHK;AAILG,kBAJK;AAKLF;AALK,KAAP;AAOD;;AAnCY,CAAf","names":["CartList","Avatar","UserCart","ref","computed","watch","useStore","name","components","setup","store","activeDropdown","cartDropdown","profileDropdown","loggedIn","getters","swapDropdown","newDropdown","value"],"sourceRoot":"","sources":["C:\\Users\\nystr\\OneDrive\\Dokument\\skola\\Frontendutv\\Javascript2\\Frontend\\app\\src\\components\\NavbarComp.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div\r\n      class=\"dropdown-overlay\"\r\n      v-if=\"activeDropdown\"\r\n      @click=\"swapDropdown(null)\"\r\n    ></div>\r\n    <nav class=\"main-nav-bg\">\r\n      <div class=\"container main-nav\">\r\n        <div class=\"brand-nav-wrap\">\r\n          <router-link to=\"/\" class=\"brand-wrap\">\r\n            <i class=\"fa-solid fa-mobile-button\"></i>PHONE$TORE\r\n          </router-link>\r\n          <div class=\"menu-item-wrap\">\r\n            <ul>\r\n              <router-link to=\"/\">\r\n                <li><i class=\"fa-solid fa-house\"></i>Home</li>\r\n              </router-link>\r\n              <router-link to=\"/store\">\r\n                <li><i class=\"fa-solid fa-store\"></i>Store</li>\r\n              </router-link>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div class=\"customer-actions\">\r\n          <div class=\"user-cart-wrapper\">\r\n            <UserCart class=\"user-cart\" @click=\"swapDropdown(cartDropdown)\" />\r\n            <div\r\n              class=\"cart-dropdown\"\r\n              ref=\"cartDropdown\"\r\n              v-show=\"activeDropdown === cartDropdown\"\r\n            >\r\n              <CartList />\r\n            </div>\r\n          </div>\r\n          <div class=\"profile-wrapper\" v-if=\"loggedIn\">\r\n            <Avatar\r\n              class=\"profile-avatar\"\r\n              @click=\"swapDropdown(profileDropdown)\"\r\n            />\r\n            <div\r\n              class=\"profile-dropdown\"\r\n              ref=\"profileDropdown\"\r\n              v-show=\"activeDropdown === profileDropdown\"\r\n            ></div>\r\n          </div>\r\n          <router-link to=\"/login\" v-else>\r\n            <button class=\"btn btn-secondary\">\r\n              <i class=\"fa-solid fa-user\"></i>Login\r\n            </button>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CartList from \"../components/cart/CartListComp\";\r\nimport Avatar from \"./user-components/AvatarComp\";\r\nimport UserCart from \"./user-components/UserCartComp\";\r\nimport { ref, computed, watch } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"MainNavigation\",\r\n  components: {\r\n    Avatar,\r\n    UserCart,\r\n    CartList,\r\n  },\r\n  setup() {\r\n    const store = useStore();\r\n    const activeDropdown = ref(null);\r\n    const cartDropdown = ref(null);\r\n    const profileDropdown = ref(null);\r\n    const loggedIn = ref(computed(() => store.getters.loggedIn));\r\n\r\n    const swapDropdown = (newDropdown) => {\r\n      //console.log(newDropdown);\r\n      if (!activeDropdown || activeDropdown.value !== newDropdown) {\r\n        activeDropdown.value = newDropdown;\r\n        return;\r\n      }\r\n\r\n      activeDropdown.value = null;\r\n    };\r\n\r\n    watch(ref(computed(() => store.getters.loggedIn)), () => {\r\n      loggedIn.value = ref(computed(() => store.getters.loggedIn));\r\n    });\r\n\r\n    return {\r\n      activeDropdown,\r\n      cartDropdown,\r\n      profileDropdown,\r\n      swapDropdown,\r\n      loggedIn,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.customer-actions button {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 0.5em;\r\n  font-weight: bold;\r\n}\r\n.user-cart {\r\n  cursor: pointer;\r\n  position: relative;\r\n  z-index: 11;\r\n}\r\n\r\n.profile-avatar {\r\n  cursor: pointer;\r\n  position: relative;\r\n  z-index: 11;\r\n}\r\n.main-nav-bg {\r\n  background-color: var(--clr-primary-desat);\r\n  box-shadow: 0px 0px 5px 5px #00000015;\r\n}\r\n\r\n.main-nav {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0.5rem 0px;\r\n}\r\n\r\n.brand-nav-wrap {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.brand-wrap {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-size: 2rem;\r\n  font-weight: bold;\r\n  color: #fff;\r\n  text-shadow: 2px 2px 0px var(--clr-dark);\r\n}\r\n\r\n.menu-item-wrap ul {\r\n  list-style-type: none;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  font-size: 1rem;\r\n}\r\n.menu-item-wrap li {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  color: #fff;\r\n  transition: color 0.15s ease-in-out;\r\n}\r\n\r\n.menu-item-wrap li:hover {\r\n  color: var(--clr-dark);\r\n}\r\n\r\n.menu-item-wrap i {\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.customer-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n.user-cart-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.profile-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.cart-dropdown {\r\n  position: absolute;\r\n  right: 0.5rem;\r\n  top: 2.5rem;\r\n  min-width: 30rem;\r\n  padding: 1rem;\r\n  background-color: rgb(255, 255, 255);\r\n  box-shadow: 0px 0px 5px 5px #00000015;\r\n  border-radius: 0.5rem;\r\n  z-index: 11;\r\n}\r\n\r\n.profile-dropdown {\r\n  position: absolute;\r\n  right: 0.5rem;\r\n  top: 2.5rem;\r\n  min-width: 500px;\r\n  min-height: 100px;\r\n  background-color: rgb(255, 255, 255);\r\n  box-shadow: 0px 0px 5px 5px #00000015;\r\n  border-radius: 0.5rem;\r\n  z-index: 11;\r\n}\r\n\r\n.dropdown-overlay {\r\n  position: absolute;\r\n  background-color: transparent;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 10;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}